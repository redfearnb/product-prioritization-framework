<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Prioritization Framework | Brady Redfearn, PhD</title>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        /* Basic reset for range inputs across browsers */
        input[type=range] { -webkit-appearance: none; width: 100%; background: transparent; }
        input[type=range]::-webkit-slider-thumb { -webkit-appearance: none; height: 16px; width: 16px; border-radius: 50%; background: #3b82f6; cursor: pointer; margin-top: -5px; }
        input[type=range]::-webkit-slider-runnable-track { width: 100%; height: 6px; cursor: pointer; background: #e2e8f0; border-radius: 3px; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;
        const { 
            TrendingUp, Target, DollarSign, Users, Shield, 
            Zap, Plus, X, ChevronDown, ChevronUp 
        } = lucide;

        const ProductPrioritizationFramework = () => {
            const [initiatives, setInitiatives] = useState([
                {
                    id: 1,
                    name: 'LLM-based Cybersecurity Threat Analysis',
                    description: 'AI-powered threat detection system for SOC operations',
                    customerValue: 9, businessValue: 8, technicalFeasibility: 7,
                    strategicFit: 9, compliance: 10, timeToValue: 6, expanded: false
                },
                {
                    id: 2,
                    name: 'Emergency Response Workflow Automation',
                    description: 'Mobile-first dispatch and resource allocation system',
                    customerValue: 10, businessValue: 7, technicalFeasibility: 8,
                    strategicFit: 8, compliance: 9, timeToValue: 7, expanded: false
                }
            ]);

            const [newInitiative, setNewInitiative] = useState({
                name: '', description: '', customerValue: 5, businessValue: 5,
                technicalFeasibility: 5, strategicFit: 5, compliance: 5, timeToValue: 5
            });

            const [showForm, setShowForm] = useState(false);

            const criteria = [
                { key: 'customerValue', label: 'Customer Value', icon: Users, weight: 0.25, description: 'Impact on end-user outcomes and satisfaction' },
                { key: 'businessValue', label: 'Business Value', icon: DollarSign, weight: 0.20, description: 'Revenue potential or strategic positioning' },
                { key: 'technicalFeasibility', label: 'Technical Feasibility', icon: Zap, weight: 0.15, description: 'Engineering complexity and risk' },
                { key: 'strategicFit', label: 'Strategic Fit', icon: Target, weight: 0.20, description: 'Alignment with portfolio goals' },
                { key: 'compliance', label: 'Compliance/Security', icon: Shield, weight: 0.10, description: 'CMMC, NIST RMF requirements' },
                { key: 'timeToValue', label: 'Time to Value', icon: TrendingUp, weight: 0.10, description: 'Speed to measurable outcomes' }
            ];

            const calculateScore = (initiative) => {
                let totalScore = 0;
                criteria.forEach(criterion => {
                    totalScore += (initiative[criterion.key] / 10) * criterion.weight * 100;
                });
                return totalScore.toFixed(1);
            };

            const addInitiative = () => {
                if (newInitiative.name && newInitiative.description) {
                    setInitiatives([...initiatives, { ...newInitiative, id: Date.now(), expanded: false }]);
                    setNewInitiative({ name: '', description: '', customerValue: 5, businessValue: 5, technicalFeasibility: 5, strategicFit: 5, compliance: 5, timeToValue: 5 });
                    setShowForm(false);
                }
            };

            const deleteInitiative = (id) => setInitiatives(initiatives.filter(i => i.id !== id));
            const toggleExpanded = (id) => setInitiatives(initiatives.map(i => i.id === id ? { ...i, expanded: !i.expanded } : i));
            const sortedInitiatives = [...initiatives].sort((a, b) => parseFloat(calculateScore(b)) - parseFloat(calculateScore(a)));

            const getPriorityLevel = (score) => {
                if (score >= 80) return { label: 'Critical Priority', color: '#dc2626', bg: '#fee2e2' };
                if (score >= 65) return { label: 'High Priority', color: '#ea580c', bg: '#ffedd5' };
                if (score >= 50) return { label: 'Medium Priority', color: '#ca8a04', bg: '#fef3c7' };
                return { label: 'Low Priority', color: '#6b7280', bg: '#f3f4f6' };
            };

            return (
                <div style={{ minHeight: '100vh', background: '#f8fafc', fontFamily: 'sans-serif', paddingBottom: '4rem' }}>
                    <div style={{ background: '#0f172a', color: 'white', padding: '2rem' }}>
                        <div style={{ maxWidth: '1200px', margin: '0 auto' }}>
                            <h1 style={{ fontSize: '2rem', margin: '0 0 0.5rem 0' }}>Strategic Product Prioritization Framework</h1>
                            <p style={{ opacity: 0.8, margin: 0 }}>Weighted scoring model for complex product portfolios</p>
                            <a href="https://redfearnb.github.io" style={{ color: 'white', textDecoration: 'none', display: 'block', marginTop: '1rem', fontSize: '0.9rem' }}>‚Üê Back to Portfolio</a>
                        </div>
                    </div>

                    <div style={{ maxWidth: '1200px', margin: '2rem auto', padding: '0 1rem' }}>
                        <button onClick={() => setShowForm(!showForm)} style={{ background: '#3b82f6', color: 'white', border: 'none', padding: '0.75rem 1.5rem', borderRadius: '0.5rem', cursor: 'pointer', fontWeight: 'bold', display: 'flex', alignItems: 'center', gap: '0.5rem' }}>
                            <Plus size={20} /> Add Initiative
                        </button>

                        {showForm && (
                            <div style={{ background: 'white', padding: '2rem', borderRadius: '0.75rem', marginTop: '1.5rem', boxShadow: '0 4px 6px rgba(0,0,0,0.1)' }}>
                                <input placeholder="Initiative Name" value={newInitiative.name} onChange={e => setNewInitiative({...newInitiative, name: e.target.value})} style={{ width: '100%', padding: '0.75rem', marginBottom: '1rem', borderRadius: '0.25rem', border: '1px solid #e2e8f0' }} />
                                <textarea placeholder="Description" value={newInitiative.description} onChange={e => setNewInitiative({...newInitiative, description: e.target.value})} style={{ width: '100%', padding: '0.75rem', marginBottom: '1rem', borderRadius: '0.25rem', border: '1px solid #e2e8f0', minHeight: '80px' }} />
                                <div style={{ display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(200px, 1fr))', gap: '1rem' }}>
                                    {criteria.map(c => (
                                        <div key={c.key}>
                                            <label style={{ fontSize: '0.8rem', fontWeight: 'bold' }}>{c.label}: {newInitiative[c.key]}</label>
                                            <input type="range" min="1" max="10" value={newInitiative[c.key]} onChange={e => setNewInitiative({...newInitiative, [c.key]: parseInt(e.target.value)})} />
                                        </div>
                                    ))}
                                </div>
                                <button onClick={addInitiative} style={{ background: '#22c55e', color: 'white', border: 'none', padding: '0.75rem 1.5rem', borderRadius: '0.5rem', marginTop: '1.5rem', cursor: 'pointer' }}>Add to Roadmap</button>
                            </div>
                        )}

                        <div style={{ marginTop: '2rem' }}>
                            {sortedInitiatives.map((item, idx) => {
                                const score = calculateScore(item);
                                const p = getPriorityLevel(score);
                                return (
                                    <div key={item.id} style={{ background: 'white', borderRadius: '0.5rem', marginBottom: '1rem', border: '1px solid #e2e8f0', overflow: 'hidden' }}>
                                        <div style={{ padding: '1.25rem', display: 'flex', justifyContent: 'space-between', alignItems: 'center' }}>
                                            <div style={{ display: 'flex', gap: '1rem', alignItems: 'center' }}>
                                                <div style={{ background: '#3b82f6', color: 'white', width: '2rem', height: '2rem', borderRadius: '50%', display: 'flex', alignItems: 'center', justifyContent: 'center', fontWeight: 'bold' }}>{idx+1}</div>
                                                <div>
                                                    <h3 style={{ margin: 0, fontSize: '1.1rem' }}>{item.name}</h3>
                                                    <p style={{ margin: 0, fontSize: '0.85rem', color: '#64748b' }}>{item.description}</p>
                                                </div>
                                            </div>
                                            <div style={{ display: 'flex', alignItems: 'center', gap: '1rem' }}>
                                                <div style={{ textAlign: 'center' }}>
                                                    <div style={{ fontSize: '1.5rem', fontWeight: 'bold', color: '#3b82f6' }}>{score}</div>
                                                    <div style={{ fontSize: '0.6rem', textTransform: 'uppercase' }}>Score</div>
                                                </div>
                                                <span style={{ background: p.bg, color: p.color, padding: '0.25rem 0.75rem', borderRadius: '1rem', fontSize: '0.75rem', fontWeight: 'bold' }}>{p.label}</span>
                                                <button onClick={() => toggleExpanded(item.id)} style={{ background: 'none', border: 'none', cursor: 'pointer' }}>
                                                    {item.expanded ? <ChevronUp /> : <ChevronDown />}
                                                </button>
                                                <button onClick={() => deleteInitiative(item.id)} style={{ background: 'none', border: 'none', cursor: 'pointer', color: '#ef4444' }}><X size={18} /></button>
                                            </div>
                                        </div>
                                        {item.expanded && (
                                            <div style={{ padding: '1.5rem', borderTop: '1px solid #e2e8f0', background: '#f8fafc', display: 'grid', gridTemplateColumns: 'repeat(auto-fit, minmax(150px, 1fr))', gap: '1rem' }}>
                                                {criteria.map(c => (
                                                    <div key={c.key} style={{ background: 'white', padding: '0.75rem', borderRadius: '0.25rem', border: '1px solid #e2e8f0' }}>
                                                        <div style={{ fontSize: '0.7rem', color: '#64748b' }}>{c.label}</div>
                                                        <div style={{ fontWeight: 'bold' }}>{item[c.key]}/10</div>
                                                    </div>
                                                ))}
                                            </div>
                                        )}
                                    </div>
                                );
                            })}
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<ProductPrioritizationFramework />);
    </script>
</body>
</html>
