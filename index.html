<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Prioritization Framework | Brady Redfearn, PhD</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #8b5cf6;
            --text-primary: #0f172a;
            --text-secondary: #475569;
            --bg-light: #f8fafc;
            --border: #e2e8f0;
            --success: #22c55e;
            --danger: #ef4444;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
            line-height: 1.6;
            color: var(--text-primary);
            background: var(--bg-light);
            padding-bottom: 4rem;
        }

        /* Hero Section */
        .hero {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            color: white;
            padding: 3rem 2rem;
        }

        .hero-content { max-width: 1200px; margin: 0 auto; }
        .hero h1 { font-size: 2.5rem; font-weight: 800; margin-bottom: 0.5rem; }
        .hero p { font-size: 1.125rem; opacity: 0.9; }
        .back-link { display: inline-block; margin-top: 1rem; color: white; text-decoration: none; opacity: 0.7; font-size: 0.9rem; }

        /* Container */
        .container { max-width: 1200px; margin: 2rem auto; padding: 0 1rem; }

        /* Form Styling */
        .card {
            background: white;
            border-radius: 0.75rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
            padding: 2rem;
            margin-bottom: 2rem;
            border: 1px solid var(--border);
        }

        .form-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 1.5rem 0;
        }

        input[type="text"], textarea {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid var(--border);
            border-radius: 0.5rem;
            font-size: 1rem;
            margin-bottom: 1rem;
        }

        /* Slider Styling */
        .slider-group { margin-bottom: 1rem; }
        .slider-label { display: flex; justify-content: space-between; font-size: 0.875rem; font-weight: 600; margin-bottom: 0.5rem; }
        input[type="range"] {
            width: 100%;
            height: 6px;
            background: var(--border);
            border-radius: 3px;
            outline: none;
            -webkit-appearance: none;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 18px;
            width: 18px;
            background: var(--primary);
            border-radius: 50%;
            cursor: pointer;
        }

        /* Buttons */
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
        }
        .btn-primary { background: var(--primary); color: white; }
        .btn-success { background: var(--success); color: white; }
        .btn-ghost { background: var(--bg-light); color: var(--text-secondary); }

        /* Roadmap Items */
        .roadmap-item {
            background: white;
            border-radius: 0.5rem;
            margin-bottom: 1rem;
            border: 1px solid var(--border);
            overflow: hidden;
        }

        .roadmap-header {
            padding: 1.25rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            cursor: pointer;
        }

        .rank-badge {
            background: var(--primary);
            color: white;
            width: 2rem;
            height: 2rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }

        .score-display { text-align: center; min-width: 80px; }
        .score-value { font-size: 1.5rem; font-weight: 800; color: var(--primary); line-height: 1; }
        .score-label { font-size: 0.6rem; text-transform: uppercase; color: var(--text-secondary); }

        .priority-tag {
            padding: 0.25rem 0.75rem;
            border-radius: 1rem;
            font-size: 0.75rem;
            font-weight: 700;
        }

        .details-pane {
            padding: 1.5rem;
            background: var(--bg-light);
            border-top: 1px solid var(--border);
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 1rem;
        }

        .detail-card {
            background: white;
            padding: 0.75rem;
            border-radius: 0.4rem;
            border: 1px solid var(--border);
        }

        .hidden { display: none; }
    </style>
</head>
<body>

    <header class="hero">
        <div class="hero-content">
            <h1>Strategic Product Prioritization</h1>
            <p>Multi-criteria decision analysis for complex product portfolios</p>
            <a href="https://redfearnb.github.io" class="back-link">← Back to Portfolio</a>
        </div>
    </header>

    <div class="container">
        <div style="margin-bottom: 2rem;">
            <button id="toggleFormBtn" class="btn btn-primary" onclick="toggleForm()">+ Add Product Initiative</button>
        </div>

        <div id="initiativeForm" class="card hidden">
            <h2 style="margin-bottom: 1rem;">New Initiative Details</h2>
            <input type="text" id="initName" placeholder="Initiative Name (e.g., AI Threat Detection)">
            <textarea id="initDesc" placeholder="Brief description of the initiative..."></textarea>
            
            <div class="form-grid">
                <div class="slider-group">
                    <div class="slider-label"><span>Customer Value</span><span id="v_cv">5</span></div>
                    <input type="range" id="cv" min="1" max="10" value="5" oninput="updateVal('cv')">
                </div>
                <div class="slider-group">
                    <div class="slider-label"><span>Business Value</span><span id="v_bv">5</span></div>
                    <input type="range" id="bv" min="1" max="10" value="5" oninput="updateVal('bv')">
                </div>
                <div class="slider-group">
                    <div class="slider-label"><span>Technical Feasibility</span><span id="v_tf">5</span></div>
                    <input type="range" id="tf" min="1" max="10" value="5" oninput="updateVal('tf')">
                </div>
                <div class="slider-group">
                    <div class="slider-label"><span>Strategic Fit</span><span id="v_sf">5</span></div>
                    <input type="range" id="sf" min="1" max="10" value="5" oninput="updateVal('sf')">
                </div>
                <div class="slider-group">
                    <div class="slider-label"><span>Compliance</span><span id="v_co">5</span></div>
                    <input type="range" id="co" min="1" max="10" value="5" oninput="updateVal('co')">
                </div>
                <div class="slider-group">
                    <div class="slider-label"><span>Time to Value</span><span id="v_tv">5</span></div>
                    <input type="range" id="tv" min="1" max="10" value="5" oninput="updateVal('tv')">
                </div>
            </div>
            
            <button class="btn btn-success" onclick="addInitiative()">Add to Roadmap</button>
            <button class="btn btn-ghost" onclick="toggleForm()">Cancel</button>
        </div>

        <h2 style="margin-bottom: 1.5rem;">Prioritized Roadmap</h2>
        <div id="roadmapList">
            </div>
    </div>

    <script>
        // Core state
        let initiatives = [
            {
                id: 1, name: 'LLM-based Cybersecurity Threat Analysis',
                description: 'AI-powered threat detection system for SOC operations',
                customerValue: 9, businessValue: 8, technicalFeasibility: 7,
                strategicFit: 9, compliance: 10, timeToValue: 6
            },
            {
                id: 2, name: 'Emergency Response Workflow Automation',
                description: 'Mobile-first dispatch and resource allocation system',
                customerValue: 10, businessValue: 7, technicalFeasibility: 8,
                strategicFit: 8, compliance: 9, timeToValue: 7
            }
        ];

        const weights = { cv: 0.25, bv: 0.20, tf: 0.15, sf: 0.20, co: 0.10, tv: 0.10 };

        function calculateScore(item) {
            let score = (item.customerValue / 10 * weights.cv) +
                        (item.businessValue / 10 * weights.bv) +
                        (item.technicalFeasibility / 10 * weights.tf) +
                        (item.strategicFit / 10 * weights.sf) +
                        (item.compliance / 10 * weights.co) +
                        (item.timeToValue / 10 * weights.tv);
            return (score * 100).toFixed(1);
        }

        function getPriority(score) {
            if (score >= 80) return { label: 'CRITICAL', bg: '#fee2e2', color: '#dc2626' };
            if (score >= 65) return { label: 'HIGH', bg: '#ffedd5', color: '#ea580c' };
            if (score >= 50) return { label: 'MEDIUM', bg: '#fef3c7', color: '#ca8a04' };
            return { label: 'LOW', bg: '#f3f4f6', color: '#6b7280' };
        }

        function updateVal(id) {
            document.getElementById('v_' + id).innerText = document.getElementById(id).value;
        }

        function toggleForm() {
            document.getElementById('initiativeForm').classList.toggle('hidden');
        }

        function addInitiative() {
            const name = document.getElementById('initName').value;
            const desc = document.getElementById('initDesc').value;
            if(!name) return alert('Please enter a name');

            const newItem = {
                id: Date.now(),
                name: name,
                description: desc,
                customerValue: parseInt(document.getElementById('cv').value),
                businessValue: parseInt(document.getElementById('bv').value),
                technicalFeasibility: parseInt(document.getElementById('tf').value),
                strategicFit: parseInt(document.getElementById('sf').value),
                compliance: parseInt(document.getElementById('co').value),
                timeToValue: parseInt(document.getElementById('tv').value)
            };

            initiatives.push(newItem);
            renderRoadmap();
            toggleForm();
            // Reset form
            document.getElementById('initName').value = '';
            document.getElementById('initDesc').value = '';
        }

        function deleteItem(id) {
            initiatives = initiatives.filter(i => i.id !== id);
            renderRoadmap();
        }

        function toggleDetails(id) {
            const el = document.getElementById('details-' + id);
            el.classList.toggle('hidden');
        }

        function renderRoadmap() {
            const list = document.getElementById('roadmapList');
            list.innerHTML = '';
            
            // Sort by score
            const sorted = [...initiatives].sort((a, b) => calculateScore(b) - calculateScore(a));

            sorted.forEach((item, index) => {
                const score = calculateScore(item);
                const prio = getPriority(score);
                
                const html = `
                    <div class="roadmap-item">
                        <div class="roadmap-header" onclick="toggleDetails(${item.id})">
                            <div style="display: flex; align-items: center; gap: 1rem;">
                                <div class="rank-badge">${index + 1}</div>
                                <div>
                                    <h3 style="font-size: 1.1rem;">${item.name}</h3>
                                    <p style="font-size: 0.85rem; color: var(--text-secondary);">${item.description}</p>
                                </div>
                            </div>
                            <div style="display: flex; align-items: center; gap: 1.5rem;">
                                <div class="score-display">
                                    <div class="score-value">${score}</div>
                                    <div class="score-label">Score</div>
                                </div>
                                <span class="priority-tag" style="background: ${prio.bg}; color: ${prio.color}">${prio.label}</span>
                                <button class="btn" style="color: var(--danger); padding: 0.2rem;" onclick="event.stopPropagation(); deleteItem(${item.id})">✕</button>
                            </div>
                        </div>
                        <div id="details-${item.id}" class="details-pane hidden">
                            <div class="detail-card"><strong>Cust. Value:</strong> ${item.customerValue}/10</div>
                            <div class="detail-card"><strong>Bus. Value:</strong> ${item.businessValue}/10</div>
                            <div class="detail-card"><strong>Feasibility:</strong> ${item.technicalFeasibility}/10</div>
                            <div class="detail-card"><strong>Strat. Fit:</strong> ${item.strategicFit}/10</div>
                            <div class="detail-card"><strong>Compliance:</strong> ${item.compliance}/10</div>
                            <div class="detail-card"><strong>Time to Val:</strong> ${item.timeToValue}/10</div>
                        </div>
                    </div>
                `;
                list.innerHTML += html;
            });
        }

        // Initial render
        renderRoadmap();
    </script>
</body>
</html>
